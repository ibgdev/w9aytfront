<div class="signup-page">
  <!-- Home Button -->
  <a routerLink="/" class="home-button">
    <i class="fas fa-home"></i> Home
  </a>

  <!-- Decorative Shapes -->
  <div class="diagonal-shape top-shape"></div>
  <div class="diagonal-shape bottom-shape"></div>

  <div class="signup-container">
    <!-- Left Side - Form -->
    <div class="form-section">
      <div class="form-wrapper">
        <h2 class="form-title">Sign Up</h2>
        <div class="title-underline"></div>

        <!-- Success Message -->
        @if (successMessage()) {
          <div class="alert alert-success">
            {{ successMessage() }}
          </div>
        }

        <!-- Error Message -->
        @if (errorMessage()) {
          <div class="alert alert-error">
            {{ errorMessage() }}
          </div>
        }

        <form class="signup-form" (ngSubmit)="onSubmit()">
          <!-- Full Name and Phone -->
          <div class="form-row">
            <div class="form-group">
              <label for="fullname">Full Name</label>
              <input 
                type="text" 
                id="fullname" 
                placeholder="Your Full name"
                class="form-control"
                [class.error]="fieldErrors()['name']"
                [value]="formData().name"
                (input)="updateField('name', $any($event.target).value)"
                [disabled]="isLoading()"
              />
              @if (fieldErrors()['name']) {
                <span class="error-text">{{ fieldErrors()['name'] }}</span>
              }
            </div>
            <div class="form-group">
              <label for="phone">Phone</label>
              <input 
                type="tel" 
                id="phone" 
                placeholder="+216 21 000 000"
                class="form-control"
                [class.error]="fieldErrors()['phone']"
                [value]="formData().phone"
                (input)="updateField('phone', $any($event.target).value)"
                [disabled]="isLoading()"
              />
              @if (fieldErrors()['phone']) {
                <span class="error-text">{{ fieldErrors()['phone'] }}</span>
              }
            </div>
          </div>

          <!-- Email -->
          <div class="form-group">
            <label for="email">Email</label>
            <input 
              type="email" 
              id="email" 
              placeholder="youremail@domain.com"
              class="form-control"
              [class.error]="fieldErrors()['email']"
              [value]="formData().email"
              (input)="updateField('email', $any($event.target).value)"
              [disabled]="isLoading()"
            />
            @if (fieldErrors()['email']) {
              <span class="error-text">{{ fieldErrors()['email'] }}</span>
            }
          </div>

          <!-- Address -->
          <div class="form-group">
            <label for="address">Address</label>
            <input 
              type="text" 
              id="address" 
              placeholder="Street, City, Country"
              class="form-control"
              [class.error]="fieldErrors()['address']"
              [value]="formData().address"
              (input)="updateField('address', $any($event.target).value)"
              [disabled]="isLoading()"
            />
            @if (fieldErrors()['address']) {
              <span class="error-text">{{ fieldErrors()['address'] }}</span>
            }
          </div>

          <!-- Password -->
          <div class="form-group">
            <label for="password">Password</label>
            <input 
              type="password" 
              id="password" 
              placeholder="············"
              class="form-control"
              [class.error]="fieldErrors()['password']"
              [value]="formData().password"
              (input)="updateField('password', $any($event.target).value)"
              [disabled]="isLoading()"
            />
            @if (fieldErrors()['password']) {
              <span class="error-text">{{ fieldErrors()['password'] }}</span>
            }
          </div>

          <!-- Terms and Policy -->
          <div class="terms-checkbox">
            <input 
              type="checkbox" 
              id="terms"
              [checked]="termsAccepted()"
              (change)="termsAccepted.set($any($event.target).checked)"
              [disabled]="isLoading()"
            />
            <label for="terms">I agree to all terms and policy</label>
          </div>

          <!-- Submit Button -->
          <button type="submit" class="signup-btn" [disabled]="isLoading()">
            @if (isLoading()) {
              <span class="spinner"></span>
              Creating account...
            } @else {
              Sign Up
            }
          </button>

          <!-- Login Link -->
          <p class="login-link" routerLink="/login">
            I already have an account
          </p>
        </form>
      </div>
    </div>

    <!-- Right Side - Illustration -->
    <div class="illustration-section">
      <img src="/signup_illust.png" alt="Security illustration" class="signup-illustration" draggable="false">
    </div>
  </div>
</div>